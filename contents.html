<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Contents</title>
<link rel="stylesheet" href="common.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
<style>
  :root{
    --bg:#fcfaf2; --ink:#333; --accent:#ff7e00; --header-h:64px;
    --max:1300px; --gap:28px;
    /* 下段 3カラム幅（好みで調整OK） */
    --col-left:1.1fr;   /* 説明 */
    --col-mid:  2.4fr;  /* メイン */
    --col-right:0.8fr;  /* Scratch */
  }
  body{ background:var(--bg); color:var(--ink); }

  /* ===== 上段：イラスト帯（画面上1/3） ===== */
  .hero-illust{
    position:relative;
    height:26vh; min-height:240px;
    display:flex; align-items:flex-end;
    isolation:isolate; overflow:hidden;
  }
  /* 左上のCONTENTS */
  .hero-illust .title{
    position:absolute; left:5vw; top:18%;
    font-weight:800; letter-spacing:.08em; font-size:clamp(2.4rem,2.0vw,3.2rem);
    opacity:.9;
  }
  /* 背景のグレー図形 */
  .hero-illust::before,
  .hero-illust::after{
    content:""; position:absolute; inset:auto; z-index:-1; pointer-events:none;
    background:rgba(0,0,0,.04);
  }
  .hero-illust::before{
    width:44vw; height:44vw; right:-18vw; top:-10vw; border-radius:50%;
    filter:blur(1px);
  }
  .hero-illust::after{
    width:38vw; height:28vw; left:-16vw; bottom:-10vw; border-radius:32px;
    transform:rotate(-8deg);
  }
  /*リンク*/
  .illust-link {
    text-align: right;
    margin-bottom: 10px;
  }

  /* 右からセンターまでくる帯 */
  .illust-band{
    margin-left:auto; margin-right:clamp(16px,6vw,80px); margin-bottom: 10px;
    background:#fff; border:1px solid rgba(0,0,0,.08);
    border-radius:16px; box-shadow:0 10px 28px rgba(0,0,0,.07);
    padding:14px; min-width:min(46vw,720px); max-width:820px;
  }
  .illust-row{ margin-left: 10px; display: flex; align-items:center; gap:20px; }
.gallery-window{
  position: relative;
  overflow: hidden;
  border-radius: 10px;
  background: #eee;
  box-shadow: 0 6px 18px rgba(0,0,0,.06);
}
.gallery-window.vert{ width:90px;  height:120px; } /* 縦長2つ */
.gallery-window.wide{ width:120px; height:90px;  } /* 横長1つ */

.gw-img, .gw-media{
  position:absolute; inset:0;
  width:100%; height:100%; object-fit:cover;
  opacity:0; transition:opacity .6s ease;
}
.gw-img.active{ opacity:1; }

  .gallery-title { 
    margin-top: 50px; font-weight: bold;
  }
  .illust-band a.more{
    position:absolute; top: 55px; right: 100px;
    font-size: 14px; letter-spacing:.06em;
    color:#222; display:inline-flex; align-items:center; gap:10px;
    border-bottom:2px solid rgba(0,0,0,.2); padding-bottom:4px;
  }
  .illust-band a.more:hover{ color:var(--accent); border-bottom-color:var(--accent); }

  /* ===== 下段レイアウト（画面下2/3） ===== */
  .stage{
    max-width:var(--max); margin:16px auto 90px; padding:0 16px; margin-left: 250px;
    display:grid; gap:var(--gap);
    grid-template-columns: var(--col-left) var(--col-mid) var(--col-right);
    align-items:start;
    min-height: 58vh;
  }

  /* 左：説明（作品ごとに連動切替） */
  .left{ position:relative; min-height:540px; }
  .info{
    position:absolute; inset:0;
    background:#fff; border:1px solid rgba(0,0,0,.08);
    border-radius:16px; box-shadow:0 8px 24px rgba(0,0,0,.06);
    padding:18px 20px; line-height:1.95; opacity:0; transform:translateY(8px);
    transition:opacity .25s ease, transform .25s ease;
  }
  .info.active{ opacity:1; transform:none; }
  .info h3{ margin-bottom:23px; font-size:1.08rem; border-bottom:2px solid rgba(0,0,0,.5); }

  /* 中央：メインカード（上下ボタンは外側・薄い） */
  .mid{ position:relative; min-height:540px; margin-right: 50px; }
  .proj{
    position:absolute; inset:0;
    background:#fff; border:1px solid rgba(0,0,0,.08);
    border-radius:16px; box-shadow:0 12px 32px rgba(0,0,0,.08);
    padding:18px; display:flex; flex-direction:column; gap:12px;
    opacity:0; pointer-events:none; transform:translateY(8px);
    transition:opacity .28s ease, transform .28s ease;
  }
  .proj.active{ opacity:1; pointer-events:auto; transform:none; }
  .proj h2{ font-size:clamp(1.2rem,2.6vw,1.6rem); }
  .frame{
    aspect-ratio:16/9; border-radius:12px; overflow:hidden;
    border:1px solid rgba(0,0,0,.08);
    background:linear-gradient(135deg,#f0eee7,#e9e5da);
    display:grid; place-items:center;
  }
  .media {
    width: 100%;
    max-width: 480px;   /* 最大幅を制限 */
    border-radius: 8px;
    box-shadow: 0 4px 20px rgba(0,0,0,0.1);
    margin: 0 auto;
    display: block;
  }
  .r-caption{
    position:absolute; top: 370px; left:25px; right:25px; bottom:145px;
    background:rgba(255,255,255,.88); border:1px solid rgba(0,0,0,.06);
    border-radius:10px; padding:0px 10px; font-weight:700;
  }
  .desc{ line-height:1.9; opacity:.95; }
  .btn-outline{
    align-self:flex-start; display:inline-block; padding:.55rem 1.1rem;
    border:2px solid var(--accent); color:var(--accent);
    border-radius:24px; text-decoration:none; font-weight:700;
    transition:background .15s, color .15s, transform .12s;
  }
  .btn-outline:hover{ background:var(--accent); color:#fff; transform:translateY(-1px); }

  /* 下の薄いボタン（外側） */
  .vbtn{
    position:absolute; left:50%; translate:-50% 0;
    width:34px; height:34px; 
    display:grid; place-items:center;
    color:#7e7061; cursor:pointer;
    backdrop-filter:blur(3px); user-select:none; z-index:3;
  }
  .vbtn.down{ bottom:-40px; }
  .vbtn span{ transform:translateY(-1px); }

  /* 右：Scratchカードの自動ループ＋左右の薄い▶ */
  .right{ position:relative; min-height:200px; }
  .scroller{
    position:absolute; inset:0;
    background:#fff; border:1px solid rgba(0,0,0,.08);
    border-radius:16px; box-shadow:0 10px 28px rgba(0,0,0,.07);
    overflow:hidden;
  }
  .s-card{
    position:absolute; inset:12px; border-radius:12px; overflow:hidden;
    background:#eee; opacity:0; transition:opacity .45s ease;
  }
  .s-card.active{ opacity:1; }
  .s-card img{ width:100%; height:100%; object-fit:cover; display:block; }
  /* 3種のカード枠（前回のニュアンスを踏襲） */
  .s-card.theme-amber{ box-shadow:inset 0 0 0 10px rgba(255,224,139,.55); }
  .s-card.theme-blue { box-shadow:inset 0 0 0 10px rgba(169,199,223,.55); }
  .s-card.theme-coral{ box-shadow:inset 0 0 0 10px rgba(255,184,161,.55); }
  .s-caption{
    position:absolute; left:14px; right:14px; bottom:14px;
    background:rgba(255,255,255,.88); border:1px solid rgba(0,0,0,.06);
    border-radius:10px; padding:8px 10px; font-weight:700;
  }
  /* 薄い▶ボタン（スクラッチだけ） */
  .hbtn{
    position:absolute; top:50%; translate:0 -50%;
    width:28px; height:28px; display:grid; place-items:center;
    background:rgba(214, 214, 214, 0.06); color:#aaa6a6; border-radius:999px; cursor:pointer;
    user-select:none; z-index:3;
  }
  .hbtn.prev{ left:-30px; } .hbtn.next{ right:-30px; }
  .hbtn span{ font-size:.9rem; }

  /* レスポンシブ */
  @media (max-width:1100px){
    .hero-illust{ height:28vh; }
    .illust-row img{ width:92px; height:64px; }
    .stage{ grid-template-columns: 1fr; }
    .left,.mid,.right{ min-height:420px; }
    .hbtn.prev{ left:6px } .hbtn.next{ right:6px }
    .vbtn.up{ top:6px } .vbtn.down{ bottom:6px }
  }
</style>
</head>
<body>

<header class="site-header">
  <div class="brand">PORTFOLIO</div>
  <button class="hamburger" id="menuBtn" aria-expanded="false" aria-controls="globalMenu" aria-label="Open menu">
    <span class="bars"></span>
  </button>
  <nav class="menu" id="globalMenu" aria-label="Site navigation">
    <a href="about.html">About</a>
    <a href="contents.html">Contents</a>
    <a href="contact.html">Contact</a>
  </nav>
</header>

<!-- 上段：イラスト帯 -->
<section class="hero-illust">
  <div class="title">CONTENTS</div>
  <!-- イラストバンド -->
  <div class="illust-band">
    <div class="illust-row">
       <!-- 窓1・2・3 は“空枠”。画像はJSで差し込み -->
  <div class="gallery-window vert" id="gallery1"></div>
  <div class="gallery-window vert" id="gallery2"></div>
  <div class="gallery-window wide" id="gallery3"></div>

  <!-- 窓4は動画（スライド対象にしない） -->
  <div class="gallery-window wide" id="gallery4">
    <video class="media" autoplay loop muted playsinline>
      <source src="gallery/anim.mp4" type="video/mp4">
    </video>
  </div>
        <span clas="gallery-title">ILLUSTRATION GALLERY</span>
      </div>
    </div>
    <a class="more" href="images/illust.pdf" target="_blank" rel="noopener">
        ILLUSTRATION PORTFOLIO <i class="fa-solid fa-angle-right"></i>
    </a>
  </div>
</section>

<!-- 下段：3カラム -->
<section class="stage">
  <!-- 左：説明（連動切替） -->
  <aside class="left">
    <article class="info active" data-idx="0">
      <h3>ラーメン制作マニュアル（ゲーム）</h3>
      <p>素早い試作から完成度までを段階的に。<strong>ツールやプログラミングに慣れること</strong>を目的に、Scratch→Unity→Javaで同テーマを実装しました。<br><br>
        <strong>「多様なレシピを覚える負担」</strong>や<br><strong>「練習用ドリンクを捨てるもったいなさ」</strong><br>
         といった飲食アルバイト時代に感じた課題をもとに、学びを楽しく効率化するマニュアルアプリを形にしました。</p>
    </article>
    <article class="info" data-idx="1">
      <h3>どこつぶアプリ（授業）</h3>
      <p>「スッキリわかるサーブレット/JSP入門」記載コードから、拡張機能を追加。</p>
    </article>
    <article class="info" data-idx="2">
      <h3>Todoリストアプリ</h3>
      <p>鋭意制作中。<br>まもなくGitHub公開予定。</p>
    </article>
  </aside>

  <!-- 中央：メイン（上下ボタンは外側） -->
  <section class="mid" id="mid">
    <button class="vbtn down" aria-label="次へ"><span>▼</span></button>

    <article class="proj active" data-idx="0">
      <h2>ラーメン制作マニュアル</h2>
      <div class="frame">
        <video class="media" autoplay loop muted playsinline>
        <source src="images/ramen_scratch.mp4" type="video/mp4">お使いのブラウザは動画再生に対応していません
        </video>
        <div class="r-caption">Scratch</div>
      </div>
      <p class="desc">操作性・演出・ロジックを段階的に設計。詳細ページで3実装を比較できます。</p>
      <a class="btn-outline" href="ramen.html">詳細を見る</a>
    </article>

    <article class="proj" data-idx="1">
      <h2>どこつぶアプリ（授業）</h2>
      <div class="frame"></div>
      <p class="desc">ユーザー登録、ログインをすることでつぶやきが可能となるアプリ。</p>
    </article>

    <article class="proj" data-idx="2">
      <h2>Todoリストアプリ</h2>
      <div class="frame"></div>
      <p class="desc">公開予定地</p>
    </article>
  </section>

  <!-- 右：Scratch自動ループ＋薄い▶ボタン＋固定説明 -->
  <aside class="right">
    <div class="scroller" aria-label="Scratch作品スライドショー">
      <div class="s-card theme-amber active"><img src="images/shooting_game_demo.gif" alt="ゲームのサンプルGIF" class="media-GIF"><div class="s-caption">シューティングゲーム</div></div>
      <div class="s-card theme-blue"><img src="images/scratch2.gif" alt=""><div class="s-caption">育成ゲーム</div></div>
      <div class="s-card theme-coral"><img src="images/scratch3.gif" alt=""><div class="s-caption">キャッチゲーム</div></div>
    </div>
    <button class="hbtn prev" aria-label="前"><span>◀</span></button>
      <button class="hbtn next" aria-label="次"><span>▶</span></button>

    <div class="info" style="position:static; opacity:1; transform:none; margin-top:12px;">
      <h3>Scratch制作について</h3>
      <p>アイデア検証に最適な環境として活用。直感操作と即時フィードバックに重点を置いています。</p>
    </div>
  </aside>
</section>

<script>
/* ヘッダーメニュー（共通） */
const btn = document.getElementById('menuBtn');
const menu = document.getElementById('globalMenu');
function closeMenu(){ menu.classList.remove('open'); btn?.setAttribute('aria-expanded','false'); }
btn?.addEventListener('click', ()=>{ const open = menu.classList.toggle('open'); btn.setAttribute('aria-expanded', open ? 'true' : 'false'); });
document.addEventListener('click', (e)=>{ if(!menu.contains(e.target) && !btn.contains(e.target)) closeMenu(); });
document.addEventListener('keydown', (e)=>{ if(e.key==='Escape') closeMenu(); });


// ===== 画像セットを窓ごとに定義（4枚ずつ）=====
const GW_SETS = {
  gallery1: [
    'gallery/img1-1.png','gallery/img1-2.png',
    'gallery/img1-3.png','gallery/img1-4.png'
  ],
  gallery2: [
    'gallery/img2-1.jpg','gallery/img2-2.png',
    'gallery/img2-3.png','gallery/img2-4.jpg'
  ],
  gallery3: [
    'gallery/img3-1.png','gallery/img3-2.png',
    'gallery/img3-3.png','gallery/img3-4.jpg'
  ]
  // gallery4 は動画なので除外
};

// ===== パラメータ =====
const PERIOD  = 4500;   // 切替間隔（ゆっくり目）
const STAGGER = 1000;   // 窓ごとの開始遅延（1秒ずつ）

// 画像プリロード（任意：切替をなめらかに）
Object.values(GW_SETS).flat().forEach(src => { const i=new Image(); i.src=src; });

// 窓を開始
Object.entries(GW_SETS).forEach(([winId, list], idx) => {
  const wrap = document.getElementById(winId);
  if (!wrap || !list?.length) return;

  // 枠内に <img> を生成（最初の1枚だけ active）
  let cur = 0;
  list.forEach((src, i) => {
    const img = document.createElement('img');
    img.className = 'gw-img' + (i===0 ? ' active' : '');
    img.src = src;
    img.alt = '';
    wrap.appendChild(img);
  });
  const imgs = wrap.querySelectorAll('.gw-img');

  // 遅延スタート → 周期ループ
  setTimeout(() => {
    setInterval(() => {
      imgs[cur].classList.remove('active');
      cur = (cur + 1) % imgs.length;
      imgs[cur].classList.add('active');
    }, PERIOD);
  }, idx * STAGGER);
});



/* ===== 中央：作品切替（上下ボタン + ホイール） ===== */
const projects = [...document.querySelectorAll('.proj')];
const infos    = [...document.querySelectorAll('.left .info')];

const down = document.querySelector('.vbtn.down');
let idx = 0;
function show(i){
  idx = (i + projects.length) % projects.length;
  projects.forEach((p,k)=> p.classList.toggle('active', k===idx));
  infos.forEach((f,k)=> f.classList.toggle('active', k===idx));
}

down.addEventListener('click', ()=> show(idx+1));
// ホイールでも切替（中央枠の上だけ）
document.getElementById('mid').addEventListener('wheel', (e)=>{
  if(e.deltaY>0) show(idx+1); else show(idx-1);
},{passive:true});

/* ===== 右：Scratch 自動ループ + ▶ ◀ ===== */
const sCards = [...document.querySelectorAll('.s-card')];
const sprev = document.querySelector('.hbtn.prev');
const snext = document.querySelector('.hbtn.next');
let s = 0, timer;
const DUR = 16000; // 切替間隔（ms）
function cycle(){
  sCards.forEach((c,i)=> c.classList.toggle('active', i===s));
  timer = setTimeout(()=>{ s = (s+1)%sCards.length; cycle(); }, DUR);
}
cycle();
function manual(dir){
  clearTimeout(timer);
  s = (s + dir + sCards.length) % sCards.length;
  cycle();
}
sprev.addEventListener('click', ()=> manual(-1));
snext.addEventListener('click', ()=> manual(+1));
document.querySelector('.scroller').addEventListener('mouseenter', ()=> clearTimeout(timer));
document.querySelector('.scroller').addEventListener('mouseleave', ()=> cycle());
</script>
</body>
</html>



